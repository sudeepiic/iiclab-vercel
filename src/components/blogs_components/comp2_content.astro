---
import authorImg from "../../images/authorImg.jpg";
import submitBtn from "../../images/submitBtn.jpg";
import blackDiamond from "../../images/blackDiamond.png";
import blogContentImg from "../../images/blogContentImg.jpg";
import { Image } from 'astro:assets';
//import { Image, Picture } from "@astrojs/image/components";

const props = Astro.props;
Object.keys(props)
---
        <section class="margins">

            <div class="row" >
                <div class="quote col-sm-12 col-md-9 col-lg-9"  >
                    {
                        props.quote &&
                        <div class="innerquote" >
                    
                    <span set:html={props.quote}>
                    </span> 
                    <span class="quoter" set:html={props.quoter}></span>
                    </div>

                    }
                

            <div class="content1" id="content1">
                    { props.content1Heading &&
                    <Image   src={blackDiamond} class="bullets optimization " alt="" loading="lazy"/>
                   <div class="contentTitle" set:html={props.content1Heading}></div>
                    }
                <span class="text" set:html={props.content1Text}></span>
            </div>

            <div class="content2" id="content2">
                {
                    props.content2Heading  &&
                    <Image   src={blackDiamond} class="bullets optimization " alt="" loading="lazy"/>
                  <div class="contentTitle" set:html={props.content2Heading} ></div>

                        }
                    

                        <span class="text" set:html={props.content2Text} ></span>
                        {
                            props.content2Img &&
                            <Image   src={props.content2Img} style="width:100%;" class="optimization " width={1050} height={600} alt={props.content2ImgAlt} loading="lazy"/>
                        }
                    </div>

            <div class="content2b" id="content2b">
                {props.content2bHeading && 
                    <Image   src={blackDiamond} class="bullets optimization " alt="" loading="lazy"/>
                   <h3 class="contentTitle" set:html={props.content2bHeading} ></h3>
                }
               
                <span class="text" set:html={props.content2bText}></span>
                {
                    props.content2bImg &&
                    <Image src={props.content2bImg} style="width:100%;" width={1050} height={600} class="optimization "  alt={props.content2bImgAlt} loading="lazy"/>
                }
                    
            </div>
            <div class="content2c" id="content2c">
                {
                    props.content2cHeading &&
                    <Image   src={blackDiamond} class="bullets optimization " alt="" loading="lazy"/>
                    <div class="contentTitle" set:html={props.content2cHeading}></div>
                }

                        {
                            props.content2cText &&
                            <span class="text" set:html={props.content2cText}></span>
                        }
                        
                        {
                            props.content2cImg &&
                            <Image   src={props.content2cImg}  class=" optimization" width={1050} height={600} style="width:100%;"  alt={props.content2cImgAlt}/>
                        }
                            
                    </div>

            {
             props.content2dText &&
                <div class="content2d" id="content2d">
                    {
                        props.content2dHeading && 
                        <Image   src={blackDiamond} class="bullets  optimization" alt="" loading="lazy"/>
                        <div class="contentTitle" set:html={props.content2dHeading}></div>
                    }
                

                            <span class="text" set:html={props.content2dText}></span>

                {
                    props.content2dImg &&
                    <Image   src={props.content2dImg}  style="width:100%;"  width={1050} height={600} class="optimization " alt={props.content2dImgAlt} loading="lazy"/>
                }
                   
                </div>
            }
           
            {
                props.content3Text &&
                <div class="content3">
                    {
                        props.content3Heading &&
                        <Image   src={blackDiamond} class="bullets  optimization" alt="" loading="lazy"/>
                         <div class="contentTitle" set:html={props.content3Heading} ></div>
                    }
                

                        <span class="text" set:html={props.content3Text}></span>

                            
                    </div>

                    }
                    
                    {
                        props.content3bText &&

                <div class="content3b">
                {
                    props.content3bHeading &&
                    <Image   src={blackDiamond} class="bullets  optimization" alt="" loading="lazy"/>
                    <div class="contentTitle" set:html={props.content3bHeading}></div>

                        }
                    
                        <span class="text" set:html={props.content3bText}></span>
                        {
                            props.content3bImg &&
                            <Image   src={props.content3bImg}  style="width:100%;" width={1050} height={600} class=" optimization" alt={props.content3bImgAlt} loading="lazy"/>
                        }
                        
                        </div>

            }
           
            {
                props.content3cText &&
                <div class="content3c">
                <Image   src={blackDiamond} class="bullets optimization " alt="" loading="lazy"/>
                <div class="contentTitle" set:html={props.content3bHeading}></div>
                <p class="text" set:html={props.content3cText}></p>

                        
                        </div>

                    }
                    
                
                </div>


                <div class="col-3">

                    {
                        (props.index1 || props.index2 || props.index3 || props.index3|| props.index5)
                        &&  <div class="contents">
                        <p class="tableHead"> Table of contents</p>
                        <span><a  href="#content1" aria-label="content1" set:html={props.index1}></a></span>
                        <span><a href="#content2" aria-label="content2" set:html={props.index2}></a> </span>
                        <span><a href="#content2b" aria-label="content2b" set:html={props.index3}> </a></span>
                        <span><a href="#content2c" aria-label="content2c"  set:html={props.index4}></a> </span>
                        <span><a href="#content2d" aria-label="content2d" set:html={props.index5}> </a></span>
                    </div>

                    }
                
                    <div class="author">
                        <p class="about"> About the Author</p>
                        <div class="d-flex justify-content-start align-items-center gap-3">
                            <Image   class="img optimization d-none" src={authorImg} alt="" loading="lazy"/>
                            <div >
                                <span class="authName" set:html={props.aboutAuthorName}></span><br>
                            <span class="authDesign" set:html={props.aboutAuthorDsgn}></span>
                            </div>
                        </div>
                                

                    </div>

                
                    
                    <div class="newsletter">
                        <p class="about">Subscribe to Newsletter</p>
                        <form action="" id="subscribeFormNews">
                            <input class="inputCss" name="name" type="text" style="margin-bottom: 4%;" placeholder="Enter your Name...">
                            <input class="inputCss" name="email" type="email" placeholder="Enter your Email...">
                            <button class="btn" type="submit" aria-label="subscribe to newsletter now">
                                <Image   src={submitBtn} class="  optimization"  alt="" loading="lazy"/>
                            </button>
                        </form>
                    </div>
                    

                </div>


            </div>

            <div class="tags d-flex">
                <span>Tags:</span>
                <div class="tagsBtn">
                    virtual reality
                </div>
                <div class="tagsBtn">
                    Productivity
                </div>
                <div class="tagsBtn">
                    Minimalist
                </div>
                <div class="tagsBtn">
                    Quality
                </div>
                <div class="tagsBtn">
                    conference
                </div>
                <div class="tagsBtn">
                    Growth
                </div>
                <div class="tagsBtn">
                    Security Token
                </div>
                <div class="tagsBtn">
                    virtual reality
                </div>
            
            </div>
        
        
        </section>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    import Swal from "sweetalert2";
    document
    .getElementById("subscribeFormNews")
    .addEventListener("submit", function (event) {
      event.preventDefault();

      var formData = new FormData(event.target as HTMLFormElement);

      var name = formData.get("name");
      var email = formData.get("email");

      const connectFormData = `
    <style>
    #customers {
        font-family: Arial, Helvetica, sans-serif;
        border-collapse: collapse;
        width: 100%;
    }

    #customers td,
    #customers th {
        border: 1px solid #ddd;
        padding: 8px;
    }

    #customers tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    #customers tr:hover {
        background-color: #ddd;
    }

    #customers th {
        padding-top: 12px;
        padding-bottom: 12px;
        text-align: left;
        background-color: #04AA6D;
        color: white;
    }
</style>

<body>
    <table id="customers">

        <tr>
            <td style="font-weight:bold;">Name</td>
            <td >${name}</td>
        </tr>
        <tr>
          <td style="font-weight:bold;">Email</td>
          <td >${email}</td>
        </tr>
        <tr>
      </tr>
    </table>
</body>
    `;

      const formData2 = new FormData();
      formData2.append("type", "subscribe-newsletter");
      formData2.append("body", connectFormData);

      fetch("https://iiclab-backend.vtour.tech/subscribe", {
        method: "POST",
        body: formData2,
        redirect: "follow",
      })
        .then(function (response) {
          if (response.ok) {
            return response.text();
          }
          throw new Error("ERROR:" + response.status);
        })
        .then(function (data) {
          Swal.fire({
            title: "Welcome to the tribe!",
            icon: "success",
            text: `Your details have landed safely in our creative hub, so keep an eye on your inbox for a newsletter of all things MarTech!`,

            confirmButtonText: "CLOSE",
            customClass: {
              confirmButton: "sweet-close-btn",
              icon: "sweet-icon",
              popup: "sweet-container",
              title: "sweet-title",
            },
          });
        })
        .catch(function (error) {
          console.error("error:", error);
        });
      (event.target as HTMLFormElement).reset();
    });
</script>



<style>
.optimization {
    height: auto;
  }
.margins {
    margin-left: 7.5%;
    margin-right: 7%;
    padding-top: 2%;
  }
  .quote{
    padding-right: 11%;
    max-height:100vh;
     overflow:scroll
  }

  .innerquote{
    border-left: 4px solid black;
   
  }

.innerquote span{
    padding: 1%;
    
    padding-left: 3%;
    display: inline-block;
    font-family: 'anek devanagari';
    font-size: 1.35vw;
    line-height: 1.9;
    font-weight:500 ;
}
.quoter{
    opacity: 50%;
}

.content1, .content2, .content2b, .content2c, .content2d, .content3, .content3b, .content3c{
    margin-top: 4%;
}

.text{
    font-family: 'anek devanagari';
    font-size: 1.2vw;
    line-height: 1.7;
    margin-top: 2%;
}



.bullets{
    vertical-align: super;
    margin-right: 1%;
    width: 1.3vw;
}
.col-3{
    padding-top: 1%;
}

.contents{
    border-bottom: 1.5px solid rgb(200, 200, 197);
}
.contents span{
    font-family: 'anek devanagari';
    font-size: 1.1vw;
    
}
a{
    text-decoration: none;
}

.contents p{
    font-family: 'anek devanagari';
}




.tableHead{
    font-weight: 600;
    font-size: 1.2vw !important;

}

.about{
    font-weight: 600;
    font-family: 'anek devanagari';
    font-size: 1.2vw;
    

}

.author{
    padding-top: 10%;
    padding-bottom: 10%;
    border-bottom: 1.5px solid rgb(200, 200, 197);
}
.img{
    width: 20%;
    height: 20%;
    border-radius: 50%;
}

.authName, .authDesign{
    font-family: 'anek devanagari';
}
.authName{
    font-size: 1.1vw;
    font-weight: 500;
}
.authDesign{
    opacity: 50%;
    font-size: 1vw;

}
.newsletter{
    padding-top:10%
}

.inputCss{
    /* background-color: #1a1a1a; */
    height: 3.2vw;
    border-radius: 0 15px 0 15px;
    width: 100%;
    background-color: #f6f7f0;
    font-size: calc(7px + 0.390625vw);
    border: 1px solid rgb(147, 147, 146);
    padding-left: 5%;
}

.newsletter img{
    margin-top: 5%;
    padding: 0;
    width: 55%;
}

.tags{
    border-top:1.5px solid rgb(200, 200, 197) ;
    border-bottom: 1.5px solid rgb(200, 200, 197);
    padding-top: 2%;
    padding-bottom: 2%;
    margin-top: 3%;
    margin-bottom: 4%;
    font-family: 'anek devanagari';
}

.tags span{
    margin-top: 0.5%;
    font-weight: 500;
    font-size: 0.9vw;

}

.tagsBtn{
    border:1.5px solid rgb(200, 200, 197) ;
    font-family: 'anek devanagari';
    border-radius: 5rem;
    width: fit-content;
    padding: 0.7%;
    margin-left:2.5%;
    font-weight: 500;
    font-size: 0.82vw;
}

@media screen and (max-width:767px){
    .col-3{
        display: none;
    }
    .text{
        font-size: 2.8vw;
    }
    .contentTitle{
        font-size: 8vw;
    }
    .innerquote span{
        font-size: 3vw;
    }
    .bullets{
        width: 2.5vw;
    }
    
}

</style>

<style is:global>

.contentTitle, .contentTitle *{
    font-family: "Deutschlander";
        text-transform: uppercase;
        font-size: 4.2vw ;
        font-weight: 400 !important;
        font-style: normal;
        /* color: white; */
        line-height: 0.85;
        display: inline-block;
        word-spacing: 0.12rem;
    letter-spacing: 0.018rem;
  
}

@media screen and (max-width:767px) {
    .contentTitle, .contentTitle *{
        font-size: 8vw;
        margin: 0 !important;
    }
}
  .swal2-html-container {
    font-family: "Anek Devanagari" !important;
    font-size: 1.2vw !important;
    font-weight: 500 !important;
    line-height: 1 !important;
    letter-spacing: 0em !important;
    opacity: 50%;
  }
  .swal2-success-line-tip,
  .swal2-success-line-long {
    background: #1a1a1a !important;
  }

  .sweet-container {
    border: 2px solid #1a1a1a !important;
  }
  .swal2-success-ring {
    border: 6.64px solid #f7fecb !important;
  }

  .sweet-title {
    font-family: Deutschlander !important;
    font-size: 5vw !important;
    font-weight: 400 !important;
    line-height: 1 !important;
    letter-spacing: 0px !important;
    text-transform: uppercase !important;
    color: #1a1a1a !important;
  }

  .swal2-actions {
    width: 100% !important;
  }
  .sweet-close-btn {
    color: #e5ff53 !important;
    background: #1a1a1a !important;
    width: 34vw !important;
    font-family: Deutschlander !important;
    font-size: 3.5vw !important;
    font-weight: 400 !important;
    line-height: 1 !important;
    letter-spacing: 0px !important;
    padding-top: 2% !important;
    padding-bottom: 2% !important;
    border-radius: 0px 0px 8px 8px !important;
    margin-bottom: 0vw;
  }
</style>




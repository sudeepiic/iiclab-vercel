---
import Layout from "../layouts/Layout.astro";

import swiper2Img from "../images/useCase-swiperImg.jpg";

import UseCasesTitle from "../components/useCasesTitle.astro";
import redirectToWork from "../images/redirectToWork2.png";
import { Image } from 'astro:assets';


const props = Astro.props;
---


<Layout 
title={props.metaTitle || "Use cases"}
  description={props.description || null}
  seoTitle={props.metaTitle || "use cases"}
>

  <UseCasesTitle />

  <section id="redirect" class="blackSection">
    <span class="explore">Explore</span>
    <span class="explore" style="color: #e5ff53;">&nbsp; Industries</span>

    <div class="d-flex" style="margin-top: 3%;">

      <a href="./automobile#redirect" class="tabs" id="automobile" > automobile</a>
      <a href="./real-estate#redirect" class="tabs" id="real-estate" > real estate</a>
      <a href="./sports-and-media#redirect" class="tabs" id="sports-and-media"  > sports & media</a>
      <a href="./retail#redirect" class="tabs" id="retail"  > retail</a>
      <a
        href="./government#redirect"
        class="tabs"
        id="government"
        style=" border-right: 1px solid #8a8a8a !important"
        
      >
        government</a
      >
    </div>
    <script>
  
    
   
     
        if(window.location.pathname.includes("automobile")){
          
          document.getElementById("automobile").classList.add('clicked');
        }
        else  if(window.location.pathname.includes("real-estate")){
          
          document.getElementById("real-estate").classList.add('clicked');
        }
       else  if(window.location.pathname.includes("sports-and-media")){
          
          document.getElementById("sports-and-media").classList.add('clicked');
        }
        else if(window.location.pathname.includes("retail")){
          
          document.getElementById("retail").classList.add('clicked');
        }
        if(window.location.pathname.includes("government")){
          
          document.getElementById("government").classList.add('clicked');
        }
    </script>

    <div class="row" style="margin-top: 6%;">
      <div class="col-lg-6 col-md-6 col-sm-12">
        {props.image &&
        <Image width={996} height={688} class="swiperImg optimization" src={props.image} alt="" />
        }
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="imgInfo">
          <span class="imgTitle" set:html={props.title} />
          <br />
          <span class="imgText" set:html={props.tagline} />
        </div>
      </div>
    </div>

    <div class="pointersDiv">
      <div class="row pointerRow">
        <div class="row col-lg-6 col-md-6 col-sm-12">
          <div class="content-box numbers col-2">
            <span>01</span>
          </div>
          <div class="col-10 pointerTextDiv">
            <span class="pointerText" set:html={props.pointer1} />
          </div>
        </div>
        <div class="row col-lg-6 col-md-6 col-sm-12 rightsidePointers">
          <div class="content-box numbers col-2">
            <span>02</span>
          </div>
          <div class="col-10 pointerTextDiv">
            <span class="pointerText" set:html={props.pointer2} />
          </div>
        </div>
      </div>

      <div class="row pointerRow">
        <div class="row col-lg-6 col-md-6 col-sm-12">
          <div class="content-box numbers col-2">
            <span>03</span>
          </div>
          <div class="col-10 pointerTextDiv">
            <span class="pointerText" set:html={props.pointer3} />
          </div>
        </div>
        <div class="row col-lg-6 col-md-6 col-sm-12 rightsidePointers">
          { props.pointer4 && 
          <div class="content-box numbers col-2">
            <span>04</span>
          </div>
          <div class="col-10 pointerTextDiv">
            <span class="pointerText" set:html={props.pointer4} />
          </div>
          
          }
        </div>
      </div>

      {
        props.pointer5 && 
        <div class="row pointerRow">
          <div class="row col-lg-6 col-md-6 col-sm-12">
            <div class="content-box numbers col-2">
              <span>05</span>
            </div>
            <div class="col-10 pointerTextDiv">
              <span class="pointerText" set:html={props.pointer5} />
            </div>
          </div>
          <div class="row col-lg-6 col-md-6 col-sm-12 rightsidePointers">
            { props.pointer6 && 
            <div class="content-box numbers col-2">
              <span>06</span>
            </div>
            <div class="col-10 pointerTextDiv">
              <span class="pointerText" set:html={props.pointer6} />
            </div>
          }
          </div>
        </div>
      }

{
  props.pointer7 && 
  <div class="row pointerRow">
    <div class="row col-lg-6 col-md-6 col-sm-12">
      <div class="content-box numbers col-2">
        <span>07</span>
      </div>
      <div class="col-10 pointerTextDiv">
        <span class="pointerText" set:html={props.pointer7} />
      </div>
    </div>
    <div class="row col-lg-6 col-md-6 col-sm-12 rightsidePointers">
      { props.pointer8 && 
      <div class="content-box numbers col-2">
        <span>08</span>
      </div>
      <div class="col-10 pointerTextDiv">
        <span class="pointerText" set:html={props.pointer9} />
      </div>
    }
    </div>
  </div>
}

{
  props.pointer9 && 
  <div class="row pointerRow">
    <div class="row col-lg-6 col-md-6 col-sm-12">
      <div class="content-box numbers col-2">
        <span>09</span>
      </div>
      <div class="col-10 pointerTextDiv">
        <span class="pointerText" set:html={props.pointer9} />
      </div>
    </div>
    <div class="row col-lg-6 col-md-6 col-sm-12 rightsidePointers">
   
    </div>
  </div>
}

    </div>
    
 
   

</section>

<section style="background-color: #1a1a1a;">

  {
    props?.useCasesData?.fields?.relatedProjects && (
      <div class="margins" style="padding-top:2%; ">
        <div class="relatedProjectHeading">
          <span>
            Related <span style="color: #e5ff53">Projects</span>
          </span>
        </div>
      </div>
    )
  }
  {
    props?.useCasesData?.fields?.relatedProjects && (
      <div class="overflow-hidden m-0" style="padding:0 9%;">
        <div
          id="stopOnHover"
          class="d-flex workImg-section-soln borders"
          style="width:100%; padding:4% 0 7% 0 !important;  overflow-x: scroll; "
        >
          {(props?.useCasesData?.fields?.relatedProjects as any)?.map(
            (projects: any) => (
              <div class="hoverImg ">
                <a
                  href={"/portfolio/" + projects?.fields?.heroTitle}
                  aria-label="case study"
                >
                  <div class="work-animation">
                    <Image
                      src={projects?.fields?.heroBanner?.fields?.file.url}
                      class="movingImgs optimization "
                      alt=""
                      width={509}
                          height={240}
                    />
                    <div class="image-overlay">
                      <Image class="optimization" src={redirectToWork} alt="" />
                      <span
                        class="workName"
                        set:html={projects?.fields?.singleClient}
                      />
                      <span
                        class="workTech"
                        set:html={projects?.fields?.whichTechnology}
                      />
                    </div>
                  </div>
                </a>
              </div>
            )
          )}
        </div>
      </div>
    )
  }
</section>
</Layout>


<style>

.optimization{
  height: auto;
}

/* related projects css */
.relatedProjectHeading span {
      font-family: Deutschlander;
      text-transform: uppercase;
      font-size: 10vw;
      font-weight: 400;
      font-style: normal;
      color: #fff;
      line-height: 0.85;
      margin-bottom: 1% !important;
    }

    .workImg-section-soln {
      padding-bottom: 7.3%;
    }

    .hoverImg:hover .image-overlay {
      opacity: 1;
    }
    .hoverImg {
      margin-right: 2%;
    }

    .work-animation {
      position: relative;
      overflow: hidden;
      border-radius: 0 4vw 4vw 4vw;
    }
    .work-animation:after {
      content: "";
      position: absolute;
      right: 0;
      left: 0;
      top: 0;
      bottom: 0;
      background: #f6f7f0;
      z-index: 998;
      transition: left 1.2s ease;
    }
    .workAnimate-active:after {
      left: 100%;
    }
    .movingImgs {
      display: block;
      width: 100%;
      aspect-ratio: 4/5;
      object-fit: cover;
      width: 25vw;
      border-radius: 0 4vw 4vw 4vw;
    }

    .image-overlay {
      position: absolute;
      bottom: 0;
      width: 100%;
      color: white;
      /* backdrop-filter: blur(5px); */
      background: rgba(0, 0, 0, 0.7);
      padding: 7% 0 7% 9%;
      opacity: 0;
      border-radius: 0 0 4vw 4vw;
    }
    .image-overlay img {
      width: 16%;
      position: absolute;
      left: 82%;
      bottom: 70%;
    }

    .workTech {
      font-family: "anek devanagari";
      font-size: 1.5vw;
      font-weight: 200;
      display: block;
      text-transform: capitalize;
    }
    .workName {
      font-family: "anek devanagari";
      font-size: 1.8vw;
      font-weight: 500;
      line-height: 1;
      display: block;
      text-transform: capitalize;
      width: 79%;
    }

    .moving-text2 {
      animation: move-text2 10s linear infinite;
    }
    @keyframes move-text2 {
      0% {
        transform: translateX(0%);
      }
      100% {
        transform: translateX(-680%);
      }
    }




/*  */
  .margins {
    margin: 0 7%;
  }

  .clicked{
    background-color: #e5ff53;
    color: #1a1a1a !important;
    font-weight: 600 !important;
  }

  .pointerTextDiv {
    line-height: 1.9vw;
  }
  a {
    text-decoration: none;
  }
  .tabs {
    width: 20%;
    border: 1px solid #8a8a8a;
    border-right: 0 !important;
    font-family: anek devanagari;
    font-weight: 500;
    font-size: 1.32vw;
    text-transform: uppercase;
    text-align: center;
    padding: 2% 0;
    color: #ffffff;
  }

  .blackSection {
    padding: 7% 7%;
    background-color: #1a1a1a;
    border-radius: 4vw 4vw 0 0;
    padding-bottom: 3% !important;
  }

  .explore {
    font-family: "Deutschlander";
    text-transform: uppercase;
    font-size: 14vw;
    font-weight: 400;
    font-style: normal;
    overflow: hidden;
    line-height: 0.8;
    /* word-spacing: 1vw; */
    color: white;
  }

  .numbers {
    background-color: #e5ff53;
    border-radius: 0 0.6vw 0 0.6vw;
    width: 11%;
    text-align: center;
    font-family: Deutschlander;
    font-size: 4.5vw;
    line-height: 1;
    height: fit-content;
    margin-right: 3%;
    margin-top: 0.8%;
  }
  .pointersDiv {
    margin-top: 3%;
    border-bottom: 1.5px solid rgb(74, 72, 72);
  }
  .pointerRow {
    border-top: 1.5px solid rgb(74, 72, 72);
    padding: 4% 0;
  }
  .pointerText {
    font-family: anek devanagari;
    font-size: 1.3vw;
    color: white;
    font-weight: 300;
    width: 90%;
    display: inline-block;
    word-spacing: 0.08rem;
  }
  @media screen and (max-width: 450px) {
    .pointerText {
      width: 100%;
    }
  }
  .rightsidePointers {
    padding-left: 4.5%;
  }

  /* swiper css */
  .swiper1-section {
    margin-bottom: 4%;
  }

  /* .swiper {
    width: 90%;
  } */

  .swiper-slide {
    /* font-size: 18px; */
    /* 
    justify-content: center;
    align-items: center; */
  }
  .imgWidth img {
    width: 100%;
  }

  .animate-swiper {
    margin-left: 7%;
  }

  /* swiper 2 css */

  .swiperImg {
    width: 88%;
    border-radius: 4.5vw 0;
  }
  .imgInfo {
    position: relative;
    top: 25%;
    left: 8%;
  }

  .imgTitle {
    font-family: "Deutschlander";
    text-transform: uppercase;
    font-size: 10vw;
    font-weight: 400;
    font-style: normal;
    overflow: hidden;
    line-height: 0.8;
    /* word-spacing: 1vw; */
    color: white;
  }
  .imgText {
    color: white;
    font-family: "anek devanagari";
    width: 85%;
    font-size: 1.3vw;
    display: inline-block;
    margin-top: 2%;
    opacity: 90%;
    font-weight: 300;
  }
  .swiper-prev,
  .swiper-next {
    width: 15%;
  }
  .controls {
    margin-top: 6%;
  }
  .swiper-prev {
    margin-right: 20%;
    margin-bottom: 6.7%;
  }
  .swiper-next {
    margin-left: 20%;
    margin-bottom: 6.7%;
  }

  .swiper-index {
    font-family: "Deutschlander";
    text-transform: uppercase;
    font-size: 7vw;
    font-weight: 400;
    font-style: normal;
    overflow: hidden;
    line-height: 0;
    /* word-spacing: 1vw; */
    color: white;
  }

  @media screen and (max-width: 767px) {

    .movingImgs {
        aspect-ratio: 4/5;
        width: 30vw;
        border-radius: 0 4vw 4vw 4vw;
        margin-right: 5%;
        object-fit: cover;
      }
    .imgInfo {
      position: relative;
      top: 0;
      left: 0;
      margin-top: 6%;
    }
    .imgText {
      font-size: 3.3vw;
    }
    .imgTitle {
      font-size: 12vw;
    }
    .rightsidePointers {
      padding-left: 2%;
    }
    .pointerText {
      font-size: 3.2vw !important;
    }
    .pointerTextDiv {
      line-height: 4.9vw;
    }
    .numbers {
      width: 10%;

      font-size: 6.5vw;
      line-height: 1.2;
    }
    .rightsidePointers {
      margin-top: 5%;
    }
  }
</style>

<script>
 
import {
    Swiper,
    Navigation,
    Pagination,
    EffectCoverflow,
    Autoplay,
    EffectCreative,
  } from "swiper";

  let y = 3;
  var swiper2 = new Swiper(".swiper", {
    modules: [Navigation, EffectCreative],
    //   effect: "creative",
    grabCursor: true,
    centeredSlides: true,
    slidesPerView: 1,

    spaceBetween: 10,
    loop: true,
    navigation: {
      nextEl: ".swiper-next",
      prevEl: ".swiper-prev",
    },

    // breakpoints: {
    //   767: {
    //     slidesPerView: 1,

    //     spaceBetween: 30,
    //   },
    //   250: {
    //     slidesPerView: 1,
    //     spaceBetween: 20,
    //   },
    // },

    autoplay: {
      delay: 2000,
    },
  });

  import { gsap, TimelineMax  } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";
    gsap.registerPlugin(ScrollTrigger);

    const movingImgs = document.querySelectorAll(".hoverImg");
    gsap.from(".workImg-section-soln", 1, {
      scrollTrigger: {
        trigger: ".workImg-section-soln",
        start: "top 55%",
        end: "bottom top",

        toggleClass: "move-upper-white-bg",
        scrub: true,
      },
    });
  
 
</script>
